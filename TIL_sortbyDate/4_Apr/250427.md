<img src="/Tracking_Time/4_Apr/250427.png">


# **배경 (Background)**

- 앨범 생성, 조회, 수정, 삭제 기능을 정의하고 앨범 내 공동작업자 관련 기능을 정의합니다.
    - 결과 1 : 서비스 메인페이지 구현
    - 결과 2 : 앨범 CRUD 기능 구현
    - 결과 3 : 앨범 내 공동작업자 조회, 초대 및 소유권 이양 기능 추가

# **목표가 아닌 것 (Non-goals) (Optional)**

- 앨범 나가기(초대받은 후 앨범에 더이상 접근하지 않는 기능)은 mvp에서는 구현하지 않습니다.

# **설계 및 기술 자료 (Architecture and Technical Documentation)**

### API 명세

> 모든 헤더에는 access token이 필수로 들어갑니다. 토큰 관련 명세는 유저 도메인 테크스펙에 명시했으므로 본 테크스펙에서는 생략합니다.
>
- 메인페이지
    - 전체 앨범 목록 월별 조회
        - endpoint : `/api/album/monthly?yearMonth={yearmonth}`
        - 구현 상세 :
            - request param : yearMonth(yyyy-mm)
                - 최초 요청시에는 null로 요청합니다. 이후 요청 시 응답으로 받은 nextYearMonth를 yearMonth로 요청합니다.
            - 처리로직 :
                1. 최초 메인페이지 로딩 시 자동으로 요청한다.
                2. 최초 요청 시 yearmonth를 null로 요청한다.
                3. 쿼리파라미터가 null일 시 LocalDateTime.now() 기준의 yyyy-mm으로 조회를 시작한다.
                    1. 유저 토큰 기반의 userId와 yearMonth를 사용하여 앨범 이름, 생성일을 조회한다.
                    2. 해당 앨범의 썸네일 id를 사용하여 썸네일 주소를 조회한다.
                    3. 각 앨범별 유저를 검색하여 해당 유저들의 닉네임과 썸네일 주소를 조회한다.
                4. 조회한 결과(앨범 id, 앨범 이름, 생성일, 썸네일 URL, 멤버 프로필이미지) 응답으로 반환한다.
    - 앨범 요약조회
        - endpoint : `/api/album/{albumId}/summary`
        - 구현상세
            - request param : albumId(앨범의 고유 아이디)
            - 처리로직
                1. 메인페이지에서 특정 앨범의 썸네일을 클릭할 시 요청한다.
                2. 해당 앨범의 장소 id를 확인하여 같은 장소 id의 사진을 조회한다.
                    - 장소를 조회하지는 않는다.
                3. 같은 장소id를 가진 사진 중 quality_score가 가장 높은 사진의 URL과 위도, 경도를 조회한다.
                4. 조회한 결과(사진 id, quality score가 가장 높은 사진의 url, 위도, 경도)를 응답으로 반환한다.
- 앨범 상세조회
  - 

## **사용 기술 (Optional)**

<aside>
💡

**🤔 이 섹션은 왜 필요한가요?**

- 설계 및 기술자료에서 구현하는데 추가적으로 필요한 기술들을 명시합니다.
</aside>

# **이외 고려사항들 (Other Considerations) (Optional)**

<aside>
💡

**🤔 이 섹션은 왜 필요한가요?**

- 주요 설계 외에 추가적으로 고민했거나, 특별히 주의해야 할 점, 혹은 내린 결정의 배경 등을 기록합니다.
- 성능, 보안, 확장성, 장애 대응 등 다양한 측면에서의 고려사항을 담을 수 있습니다.
</aside>

# **함께 논의하고 싶은 내용 (Open Questions) (Optional)**

<aside>
💡

**🤔 이 섹션은 왜 필요한가요?**

- 설계나 구현 과정에서 아직 결정되지 않았거나, 다른 팀/동료의 의견이 필요한 부분을 명시합니다.
- 협업을 촉진하고, 기술적인 결정에 대한 합의를 이끌어내는 데 도움을 줍니다.
</aside>

# **용어 정의 (Glossary) (Optional)**

<aside>
💡

**🤔 이 섹션은 왜 필요한가요?**

- 프로젝트 내에서 사용되는 특정 용어, 약어, 상태 값 등의 의미를 명확히 정의합니다.
- 팀원 간의 오해를 줄이고 원활한 의사소통을 돕습니다.
</aside>