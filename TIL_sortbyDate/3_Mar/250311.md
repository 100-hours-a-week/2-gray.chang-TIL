<img src="/Tracking_Time/3_Mar/250311.png">

## ORM이란?
 - 객체지향 프로그래밍과 관계형 데이터베이스는 개발 패러다임이 달라 데이터를 테이블로 매핑하는데 어려움을 겪는다.
   - 객체지향 프로그래밍
     - 데이터를 객체 단위로 구성하고 상속, 연관관계, 다형성 사용
     - 객체간 그래프 탐색으로 데이터 접근
   - 관계형 데이터베이스
     - 데이터를 column, row로 구성함
     - 데이터에 SQL로 접근하여 CRUD함
 - ORM은 말 그대로 Object-Relational Mapping이다. 객체와 관계형 데이터베이스를 자동으로 매핑하여 객체지향적으로 DB를 다룰 수 있도록 함
 ### ORM 특징
 - 객체-관계 매핑
 - 데이터베이스 추상화 : 객체지향적 API를 제공하여 DB 종류가 달라져도 코드 변경이 최소화된다.
 - 생산성 향상 : 반복적인 DB접근을 자동화한다.
 - 유지보수성 향상 : 수정 시에도 매핑된 정보만 수정하면 되어 스키마 변경에도 쉽게 대응 가능하다.
 - 데이터 접근 패턴 구현 : Active Record, Data Mapper 등 다양한 접근 패턴을 지원
   - Active Record : 엔티티 클래스 자체가 데이터 접근 로직을 포함(Entity에서 모든 CRUD 로직 해결)
   - Data Mapper : 객체와 데이터베이스를 분리(Repository)
### ORM vs SQL Mapper
- SQL Mapper
  - SQL 쿼리를 직접 작성하지만 매핑을 자동으로 해줌
- 정통 ORM(JPA/Hibernate)
  - 엔티티/도메인 객체와 db테이블을 1:1 매핑
  - SQL을 거의 안쓰고, 추상화된 메서드로 DB작업 수행
  - 객체 상태 변경 감지(Dirty Checking), 연관관계 매핑, 상속구조 매핑 등 객체지향 기능 처리
    - Dirty Checking : 트랜잭션 시작과 끝을 확인하여 엔티티의 변화된 부분을 데이터베이스에 반영하는 기능
      - 더티체킹 발생 조건 : 영속성 컨텍스트에서 관리되는 엔티티 / 트랜잭션 커밋 시
        - 영속성 컨텍스트란? JPA에서 엔티티 객체를 관리하는 1차 캐시 역할을 하는 공간
          - 엔티티를 저장하면 즉시 db에 반영되는게 아니라 영속성 컨텍스트에 저장됨
          - 트랜잭션이 커밋되면 변동상태 db에 반영
          - 같은 트랜잭션 안에서는 같은 엔티티를 반환함
