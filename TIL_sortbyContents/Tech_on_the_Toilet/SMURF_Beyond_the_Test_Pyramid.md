출처 : [google Testing Blog](https://testing.googleblog.com/2024/10/smurf-beyond-test-pyramid.html)

테스트를 진행할 때 Unit test부터 E2E까지 trade-off 관계를 SMURF를 통해 간단히 알려주고 그에 따른 지침을 알려준다.(의역있음)
* 테스트 피라미드는 test suite를 발전시키는 데 지침을 주는 대표적인 휴리스틱이다.(여기서 휴리스틱 : 경험 기반 지침)
* 테스트 피라미드는 단순한 메세지를 포함한다 - _단위테스트를 통합테스트보다 많이 수행하고, 통합테스트를 E2E테스트보다 많이 수행해라._(E2E : ent to end)
  <br><img src="/extraImage/test_pyramid.png">
* 이 피라미드는 유용하지만 test suite가 커지고 도전적인 트레이드 오프를 직면하게 될 때 필요한 디테일이 부족하다. test suite를 키우기 위해서는 테스트 피라미드를 넘어야 한다.
* **SMURF**는 test suite를 밸런싱하기 위해 고려할 트레이드 오프들을 기억하기 위한 약어이다.
  
-----------
<img src=/extraImage/radar_chart_test.png>

SMURF 레이더차트

* ### Speed(속도)
  * 단위테스트는 다른 테스트보다 빠르게 자주 실행할 수 있다. 이를 통해 문제를 더 쉽게 발견할 수 있다.
* ### Maintainability
  * 테스트 대상이 커질수록(피라미드 위로 갈수록) 코드도 많아지고 비용이 많이 든다. 의존성 변경이나 요구사항 변경에 더 많이 노출된다.
* ### Utilization
  * 컴퓨터 자원을 덜 소모하는 테스트는 실행 비용이 적게 든다.
  * 좋은 test suite는 자원 소비를 최적화하여 테스트가 많아질수록 급격히 증가하지 않도록 한다.
  * 보통 단위테스트는 test doubles나 시스템의 제한적인 부분만 사용하므로 효율적이다.
* ### Reliability
  * 신뢰할만한 테스트는 실제코드에 문제가 있을 때만 실패한다.
  * 테스트를 신뢰할 수 없다면 flaky한 테스트를 걸러내느라 개발자가 시간과 비용을 소모한다.
  * 시스템과 연관된 테스트가 커진다면 non-determinism(비결정적인, flasky)이 증가하고, test suite는 신뢰할 수 없게 된다.
* ### Fidelity
  * 현실에 충실한 테스트는 실제 운영환경을 더 잘 반영하며, 제품의 행동을 더 잘 예측한다.
  * 통합테스트와 E2E 테스트는 실제 환경을 더 잘 반영하고, 단위 테스트는 환경을 모방해야 하므로 테스트 기대와 실제 사이에 간극이 발생할 수 있다.

---------
* 많은 경우에 SMURF의 각 차원은 긴장관계에 있다.
* 한 차원(요소)를 향상시키면 다른 차원에 영향을 미칠 수 있다.
* 하지만 하나 이상의 요소를 향상시켰을 때 다른 요소의 영향이 없다면 그렇게 해야한다.
* 테스트 유형을 결정할 때(단위, 통합, E2E) 이러한 선택은 테스트 비용과 가치에 영향을 미친다.